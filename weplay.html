<head>
  <script>
  </script>
  <script src="//connect.soundcloud.com/sdk.js"></script>
  <title>WePlay</title>
</head>

<body>
  {{loginButtons}}
  {{> container}}
</body>

<template name="container">
  {{#if curr_playlist }} 
    {{> playlist}}
  {{else}} 
    {{> home}}
  {{/if}}
</template>

<template name="home">
  <h1>WePlay</h1>
  <h3>Democratic playlists</h3>

  Find or create a new playlist
  <br>
  <form id="create_playlist_form">
      <input type="text" placeholder="Playlist name" id="playlist_name">
      <input type="submit" value="Go" />
  </form>

  <br>
  <br>
  {{#each playlists}}
    {{this.name}}
    <br>
  {{/each}}
</template>

<template name="playlist">
  <h1>Playlist!</h1>

  <br>
  <input type="text" placeholder="Search by song or artist" id="query">
  <br>

  <div id='nowPlaying'>
  </div>

  {{#each results}}
    {{this.title}}
    <input type="button" value="Add" class="add_track" data-id="{{this.id}}">
    <br>
  {{/each}}

  Next up...
  <br>
  {{#each tracks}}
    ({{ this.votes }})
    {{this.title}}
    {{#if this.did_vote}}
    <span class="voted">Voted</span>
    {{else}}
    <input type="button" value="Vote" class="vote" data-id="{{this.id}}">
    {{/if}}
    <br>
  {{/each}}


</template>
